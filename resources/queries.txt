CREATE TABLE "GPE"."user_role" (
  IdUserRole int NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
  Name varchar(50) NOT NULL,
  DateCreated date NOT NULL,
  DateUpdated date DEFAULT NULL
);

CREATE TABLE "GPE"."user" (
  IdUser int NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
  IdUserRole int NOT NULL,
  InternalID varchar(255) NOT NULL,
  Name varchar(255) NOT NULL,
  Email varchar(255) NOT NULL,
  Password varchar(150) NOT NULL,
  Photo varchar(150) DEFAULT NULL,
  Search varchar(255),
  DateBirth date DEFAULT NULL,
  DateLastLogin date DEFAULT NULL,
  DateCreated date NOT NULL,
  DateUpdated date DEFAULT NULL,
  CONSTRAINT UN_User_InternalID UNIQUE (InternalID),
  CONSTRAINT UN_User_Email UNIQUE (Email),
  CONSTRAINT FK_User_Vs_UserRole FOREIGN KEY (IdUserRole) REFERENCES "GPE"."user_role" (IDUSERROLE) ON DELETE CASCADE ON UPDATE RESTRICT
);
